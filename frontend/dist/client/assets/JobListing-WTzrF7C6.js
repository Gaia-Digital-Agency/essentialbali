import{u as P,e as b,r as c,f as O,j as s,a4 as U,L as $}from"./AdminApp-ChTaPRE2.js";import{b as Y}from"./article.service-DabQZ069.js";import{I as y}from"./Image-XJ3LueYf.js";import{t as z,g as D}from"./format-D2eluCP0.js";import{B as v}from"./Button-BSzMcp9L.js";import{N as J}from"./Newsletter-DC40sEjH.js";import{p as G}from"./Helmet-BoN9Ngw2.js";import"./index-C0XMhpiw.js";import"./newsletter.service-DRxSL4Bv.js";const{Helmet:H}=G,N=({text:i})=>s.jsx(s.Fragment,{children:s.jsx("div",{className:"px-2.5 py-1.5 bg-[#eee]",children:s.jsx("p",{className:"font-medium text-[#202020]",children:i})})}),M=({article:i})=>{const{getCategoryById:t,getCountryById:a}=b(),{initialData:d}=U(),x=l=>{var o,m;return`/${(o=a(l.id_country))==null?void 0:o.slug}/${(m=t(l.category_id))==null?void 0:m.slug_title}/${l.slug}`};let e;if(typeof(i==null?void 0:i.meta_data)=="string"?e=JSON.parse(i==null?void 0:i.meta_data):e=i==null?void 0:i.meta_data,i){const l=()=>{const o=e==null?void 0:e.salary_time;return o?`${o}`.slice(0,1):"m"};return s.jsx(s.Fragment,{children:s.jsx("div",{className:"md:col-span-6 col-span-12",children:s.jsxs("div",{className:"inner py-8 px-6 border border-[#cecece]",children:[s.jsxs("div",{className:"title-wrapper flex items-center gap-x-5 mb-8",children:[s.jsx("div",{className:"image-wrapper w-[87px]",children:s.jsx(y,{url:(e==null?void 0:e.company_logo)??"/logo.png",ratio:"87px",link:x(i)})}),s.jsx("div",{className:"title-wrapper flex-1",children:s.jsxs("div",{className:"title",children:[s.jsx("p",{className:"text-front-body-big font-bold uppercase",children:s.jsx($,{to:x(i),viewTransition:!0,children:i.title})}),s.jsxs("p",{className:"text-front-body-big text-[#767676]",children:[(e==null?void 0:e.company_name)??"Company A"," | ",(e==null?void 0:e.company_location)??"Bali, Uluwatu"]})]})})]}),s.jsxs("div",{className:"tags-wrapper flex gap-x-2.5 mb-2.5",children:[s.jsx(N,{text:(e==null?void 0:e.job_type)??"Fulltime"}),s.jsx(N,{text:e!=null&&e.experience?`${e.experience} Years`:"1 Years"})]}),s.jsx("div",{className:"date-wrapper mb-10",children:s.jsx("p",{className:"text-[#767676] text-front-small",children:z(i.createdAt,d)})}),s.jsxs("div",{className:"footer-wrapper flex justify-between items-end",children:[s.jsx("div",{className:"item",children:s.jsxs("p",{className:"",children:[s.jsxs("span",{className:"text-[22px] text-front-red font-bold",children:[D((e==null?void 0:e.salary_currency)??"USD"),(e==null?void 0:e.salary_range)??"1000"]}),s.jsxs("span",{className:"text-front-small",children:["/",l()]})]})}),s.jsx("div",{className:"item",children:s.jsx(v,{borderOnly:!0,text:"APPLY NOW",link:x(i)})})]})]})})})}},es=({children:i})=>{var p;const{actualRoute:t}=P(),{taxonomies:a}=b(),[d,x]=c.useState([]),[e,l]=c.useState(1),[o,m]=c.useState(0),[_,w]=c.useState(),[T,S]=c.useState(),A="job-listing",I=6,n=(p=a==null?void 0:a.categories)==null?void 0:p.find(r=>r.slug_title==A),L=O();c.useEffect(()=>{(async()=>{var g,j,f,u;const r=await Y({id_country:(g=t==null?void 0:t.country)==null?void 0:g.id,id_city:(j=t==null?void 0:t.city)==null?void 0:j.id,id_region:(f=t==null?void 0:t.region)==null?void 0:f.id,limit:I,page:e,category:n==null?void 0:n.id});r!=null&&r.articles&&(x(h=>{const C=r.articles.filter(E=>!h.some(F=>F.id===E.id));return[...h,...C]}),m(((u=r.pagination)==null?void 0:u.totalPages)??1))})(),w(n==null?void 0:n.sub_title),S(n==null?void 0:n.description)},[a,t,e]);const k=()=>{l(e+1)},B=()=>{if(i)return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"fixed z-[100] inset-0 transition",children:[s.jsx("div",{className:"absolute overlay z-[100] inset-0 bg-[rgba(12,12,12,.4)]",onClick:()=>{L("..",{relative:"path",viewTransition:!0})}}),s.jsx("div",{className:"absolute rounded-xl z-[100] max-h-[90vh] overflow-scroll left-0 right-0 bottom-0",children:i})]})})};return s.jsxs(s.Fragment,{children:[s.jsx(H,{children:s.jsx("title",{children:"Job Listing - essentialbali"})}),s.jsx("div",{className:"image-wrapper mb-10",children:s.jsx(y,{url:"/logo.png",ratio:"38%"})}),s.jsxs("div",{className:"page-container py-10",children:[s.jsxs("div",{className:"container mb-24",children:[s.jsx("div",{className:"grid grid-cols-12 mb-20",children:s.jsxs("div",{className:"col-span-6 col-start-4 text-center",children:[s.jsx("p",{className:"font-serif text-front-hero mb-4",children:_}),s.jsx("p",{className:"text-front-body",children:T})]})}),s.jsx("div",{className:"grid grid-cols-12 gap-5 mb-16",children:d==null?void 0:d.map(r=>s.jsx(M,{article:r}))}),o>e&&s.jsx("div",{className:"button-wrapper text-center",children:s.jsx(v,{text:"VIEW MORE",onClick:k})})]}),s.jsx("div",{className:"outer bg-front-section-grey py-8",children:s.jsx(J,{})})]}),B()]})};export{es as default};
