const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminApp-C2W7dKJb.css","assets/pagination-BUrcyj0q.css","assets/Trending-DQzmXbEx.css","assets/index-D3b48Htt.css","assets/Events-7SWrf_k_.css","assets/SingleJob-DpsRipQV.css"])))=>i.map(i=>d[i]);
import{u as x,r as t,i as L,e as P,k as A,j as e,_ as l}from"./AdminApp-ChTaPRE2.js";import{g as R}from"./article.service-DabQZ069.js";import{B as y}from"./baliAreas-BAA3cq-7.js";const N=t.lazy(()=>l(()=>import("./Trending-Cv4mmnzy.js").then(u=>u.e),__vite__mapDeps([0,1,2]))),h=t.lazy(()=>l(()=>import("./Single-UNslT6LZ.js"),__vite__mapDeps([0,1]))),v=t.lazy(()=>l(()=>import("./Deals-DNreF6fc.js"),__vite__mapDeps([0,3]))),p=t.lazy(()=>l(()=>import("./JobListing-WTzrF7C6.js"),__vite__mapDeps([0]))),f=t.lazy(()=>l(()=>import("./Directory-1DUGR58V.js"),__vite__mapDeps([0]))),O=t.lazy(()=>l(()=>import("./Events-DAbW8GyX.js"),__vite__mapDeps([0,3,4]))),G=t.lazy(()=>l(()=>import("./SingleJob-DJe9n3cQ.js"),__vite__mapDeps([0,5]))),b=t.lazy(()=>l(()=>import("./SingleEvent-DAch-45_.js"),__vite__mapDeps([0,1]))),D=t.lazy(()=>l(()=>import("./NotFound-CqOs88Fs.js"),__vite__mapDeps([0]))),V=t.lazy(()=>l(()=>import("./Housing-CrirQT-M.js"),__vite__mapDeps([0]))),k=t.lazy(()=>l(()=>import("./Search-BC2ADglh.js"),__vite__mapDeps([0]))),C=t.lazy(()=>l(()=>import("./LocalBali-BpH4mVCg.js"),__vite__mapDeps([0]))),T=(u,c)=>{const _={country:void 0,city:void 0,region:void 0,category:void 0},g=s=>{const n=y.findIndex(r=>r.slug===s);if(n!==-1)return{id:n+1,slug:y[n].slug,name:y[n].name}};return u.forEach(s=>{var I,m,S,a;const n=(I=c.countries)==null?void 0:I.find(o=>o.slug==s),r=(m=c.cities)==null?void 0:m.find(o=>o.slug==s),i=(S=c.regions)==null?void 0:S.find(o=>o.slug==s),d=(a=c.categories)==null?void 0:a.find(o=>o.slug_title==s),E=g(s);n?_.country=n:E?_.country=E:r?_.city=r:i?_.region=i:d&&(_.category=d)}),_},F=async(u,c,_)=>{var d,E,I,m,S;const g=u?u.split("/").filter(Boolean):[];if(g.length===0)return{type:"HOME",listingParams:{country:void 0,city:void 0,region:void 0,category:void 0}};const s=g[g.length-1],n=await R(s);if(n){const a=(d=c.categories)==null?void 0:d.find(j=>j.id==n.category_id),o=T(g.slice(0,-1),c);return(a==null?void 0:a.slug_title)==="job-listing"?{type:"ARTICLE_JOB",listingParams:{...o,article:n},articleSlug:s}:(a==null?void 0:a.slug_title)==="events"?{type:"ARTICLE_EVENT",listingParams:{...o,article:n},articleSlug:s}:{type:"ARTICLE_PAGE",listingParams:{...o,article:n},articleSlug:s}}const r=T(g,c),i={...r,article:void 0};return s==="trending"?{type:"LISTING_TRENDINGS",listingParams:i}:s==="overseas"||s==="area-highlights"?{type:"LISTING_OVERSEAS",listingParams:i}:s==="search"?{type:"LISTING_SEARCH",listingParams:i}:((E=r.category)==null?void 0:E.slug_title)==="events"?{type:"LISTING_EVENTS",listingParams:i}:((I=r.category)==null?void 0:I.slug_title)==="job-listing"?{type:"LISTING_JOBS",listingParams:i}:((m=r.category)==null?void 0:m.slug_title)==="deals"?{type:"LISTING_DEALS",listingParams:i}:((S=r.category)==null?void 0:S.slug_title)==="housing"?{type:"LISTING_HOUSING",listingParams:i}:r.category?{type:"LISTING_CATEGORIES",listingParams:i}:!r.country&&!r.city&&!r.region&&!r.category?{type:"NOT_FOUND",listingParams:i}:{type:"LISTING_HOME",listingParams:i}},J=()=>{var S;const{routeType:u,setRouteType:c,setActualRoute:_,actualRoute:g,setClientChange:s,clientChange:n}=x(),[r,i]=t.useState({type:u,listingParams:g}),E=L()["*"],{taxonomies:I}=P(),{userDetails:m}=A();switch(t.useEffect(()=>{s(!0)},[E]),t.useEffect(()=>{(async()=>{const a=await F(E??"",I);i(a),c(a.type),_(a.listingParams)})()},[E,I,m,n]),u){case"ARTICLE_JOB":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(p,{children:e.jsx(G,{})},"single-job")});case"ARTICLE_EVENT":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(b,{},"single-event")});case"ARTICLE_PAGE":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(h,{},"single-article")});case"LISTING_JOBS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(p,{},"job-listing")});case"LISTING_SEARCH":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(k,{},"search")});case"LISTING_TRENDINGS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(f,{isTrending:!0},"trending")});case"LISTING_OVERSEAS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(C,{},"local-bali")});case"LISTING_EVENTS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(O,{},"events")});case"LISTING_DEALS":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(v,{},"deals")});case"LISTING_CATEGORIES":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(f,{},`cat-${(S=r.listingParams.category)==null?void 0:S.slug_title}`)});case"LISTING_HOUSING":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(V,{},"housing")});case"LISTING_HOME":case"HOME":return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(N,{},"home")});case"LOADING":return null;default:return e.jsx(t.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(D,{})})}};export{J as default};
