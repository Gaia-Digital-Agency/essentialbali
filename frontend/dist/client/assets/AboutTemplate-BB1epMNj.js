import{r as l,q as v,j as t}from"./AdminApp-ChTaPRE2.js";import{g as N,a as C,c as T}from"./template.service-a9rTbIwN.js";import{C as b}from"./ComponentCard-BXAeiW9m.js";import{I as c}from"./InputField-Btjg0xJq.js";import{T as A}from"./TextArea-XtACzk4h.js";import{L as n}from"./Label-Bw_W4V5I.js";import{A as S}from"./FeaturedImage-C43VoFVu.js";import{B as k}from"./Button-BkWwhKN1.js";import"./index-BYKjDz3i.js";import"./media.service-DnMGUgve.js";import"./MediaForm-fju4iPXC.js";import"./index-BVEKCKPu.js";import"./index-C9kMmtqa.js";import"./PageBreadCrumb-DPyHZSFF.js";import"./PageMeta-B5tbE7tJ.js";import"./Alert-Cd3KaBGt.js";import"./useTimedMessage-D8LL_2fq.js";import"./useModal-B0ZwIyJt.js";import"./Badge-CwbRsx9y.js";import"./createLucideIcon-BRWjyiVq.js";const Q=()=>{const[i,s]=l.useState({title:"",description:"",link:"",image:{url:"",alt:""}}),[m,p]=l.useState(!1),{setNotification:d}=v(),o="/about";l.useEffect(()=>{(async()=>{var a;const e=await N(o);(a=e==null?void 0:e.data)!=null&&a.content&&e.status_code==200&&(s(JSON.parse(e.data.content)),p(!0))})()},[]);const u=e=>{s(a=>({...a,title:e.target.value}))},g=e=>{console.log(e),s(a=>({...a,description:e}))},h=e=>{s(a=>({...a,link:e.target.value}))},f=e=>{e&&s(a=>({...a,image:{url:e.path,alt:i.image.alt}}))},x=()=>t.jsx(S,{onSave:f,url:i.image.url??""}),r=(e="Action Success",a="neutral")=>{d({type:a,message:e,isClosed:!1})},j=async()=>{try{if(m){if(await C(o,"About",JSON.stringify(i))){r();return}r("Failed","fail")}else{if(await T(o,"About",JSON.stringify(i))){r();return}r("Failed","fail")}}catch(e){console.log(e)}};return t.jsxs(t.Fragment,{children:[t.jsx(b,{children:t.jsxs("div",{className:"grid grid-cols-12 items-center gap-x-10",children:[t.jsxs("div",{className:"col-span-6",children:[t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Title"}),t.jsx(c,{onChange:u,value:i.title,placeholder:"Title"})]}),t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Description"}),t.jsx(A,{onChange:g,value:i.description,placeholder:"Description"})]}),t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Link"}),t.jsx(c,{onChange:h,value:i.link,placeholder:"Link"})]})]}),t.jsx("div",{className:"col-span-6",children:t.jsxs("div",{className:"input-wrapper mb-8",children:[t.jsx(n,{children:"Image"}),x()]})})]})}),t.jsx(k,{onClick:j,children:"Save"})]})};export{Q as default};
